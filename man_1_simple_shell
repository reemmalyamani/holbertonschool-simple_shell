.TH HSH 1 "December 2025" "Holberton School" "Simple Shell Manual"

.SH NAME
hsh \- a minimal UNIX command-line interpreter

.SH SYNOPSIS
.B hsh
[command_file]

.SH DESCRIPTION
.B hsh
is a minimal command-line interpreter written in C. It reads commands from
standard input, parses them, and executes them in separate processes using
the fork-exec-wait cycle.

.PP
The shell implements the following operations:
.IP \(bu 2
Read a complete line from standard input
.IP \(bu 2
Tokenize the input into arguments separated by spaces and tabs
.IP \(bu 2
Locate the requested executable in the filesystem
.IP \(bu 2
Fork a child process to execute the command
.IP \(bu 2
Replace the child process image with the target program
.IP \(bu 2
Wait for the child process to terminate and capture its exit status

.PP
Two built-in commands are handled directly within the shell process:
.B exit
and
.BR env .
All other commands are executed as external programs found via PATH.

.SH BUILT-INS

.TP
.B exit
Terminate the shell and return to the parent process. The shell exits with
the exit status of the last command that was executed. This built-in takes
no arguments.

.TP
.B env
Display the current environment variables, one per line, in the format
.IR name=value .
The shell iterates through the
.B environ
array directly to produce this output.

.SH USAGE

.SS Interactive Mode
Run the shell without arguments and type commands at the prompt:

.RS
$ ./hsh
#cisfun$ ls -la
#cisfun$ pwd
#cisfun$ echo Hello, World!
#cisfun$ env
#cisfun$ exit
$
.RE

.PP
The prompt "#cisfun$ " is displayed only when running interactively.

.SS Non-Interactive Mode
Feed commands through a pipe or input redirection:

.RS
$ echo "ls /tmp" | ./hsh
$ cat commands.txt | ./hsh
$ ./hsh < script.sh
.RE

.PP
No prompt is displayed in non-interactive mode.

.SS Command Execution
The shell searches for commands in the following order:

.RS
1. If the command contains a '/' (e.g., /bin/ls, ./script.sh), use that path
2. Otherwise, search each directory in the PATH environment variable
3. Execute the first matching executable found
4. If no executable is found, print an error message with exit status 127
.RE

.PP
Arguments are separated by spaces and tabs. Empty lines are ignored.

.SH EXIT STATUS

The shell maintains a record of the last command's exit status:

.TP
.B 0
The command completed successfully.
.TP
.B 127
The command was not found in any PATH directory.
.TP
.B 128 + n
The command was terminated by signal number
.IR n .
For example, 139 indicates SIGSEGV and 143 indicates SIGTERM.
.TP
.B 1
Various errors such as fork failure or waitpid failure.

.PP
In non-interactive mode, the shell exits with the last command's status.

.SH ENVIRONMENT

.TP
.B PATH
A colon-separated list of directories used to search for executables.
The shell parses PATH manually by scanning the
.B environ
array. If PATH is not set, only absolute paths or paths containing '/'
may be used.

.TP
.B environ
The global array of environment variables, accessed directly by the shell.

.SH SIGNALS

.TP
.B SIGINT (Ctrl+C)
The shell ignores SIGINT in the parent process, so pressing Ctrl+C does not
terminate the shell session. The child process receives default SIGINT
handling, so Ctrl+C terminates the currently running command.

.SH LIMITATIONS

This implementation lacks the following features:

.IP \(bu 2
Pipes (|) and redirection (>, <)
.IP \(bu 2
Background jobs (&) and job control
.IP \(bu 2
Wildcard expansion (*, ?)
.IP \(bu 2
Environment variable expansion ($VAR)
.IP \(bu 2
Quoted strings or escape sequences
.IP \(bu 2
Command history and line editing
.IP \(bu 2
Aliases, functions, or shell variables

.SH FILES

.TP
.B shell.c
Main shell implementation containing the shell loop, command execution,
parsing logic, PATH searching, and builtin command handling.

.TP
.B shell.h
Header file with function prototypes and the extern declaration for
.BR environ .

.TP
.B main.c
Entry point that invokes the shell loop.

.TP
.B Excute.c
Command execution functions including fork, execve, and waitpid handling.

.TP
.B AUTHORS
List of project contributors.

.SH COMPILATION

.RS
gcc -Wall -Werror -Wextra -pedantic -std=gnu89 *.c -o hsh
.RE

.SH AUTHORS

Written by Reem Alyamani and Aljawharah Alammar as the final project
of the first semester at Holberton School.

.SH SEE ALSO

sh(1), bash(1), execve(2), fork(2), wait(2), environ(7)

.SH HISTORY

This shell was developed as an educational project to demonstrate
fundamental systems programming concepts including process management,
system calls, memory management, and environment handling.